{"version":3,"file":"models.js","sourceRoot":"","sources":["../../src/models.ts"],"names":[],"mappings":"AAAA,sBAAsB;AAStB,MAAM,CAAC,MAAM,mBAAmB,GAAG,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAA;AAuBtD,MAAM,CAAC,MAAM,qBAAqB,GAAG,CAAC,QAAQ,EAAE,WAAW,EAAE,OAAO,CAAC,CAAA;AAwBrE,MAAM,CAAN,IAAY,MAIX;AAJD,WAAY,MAAM;IAChB,yCAAW,CAAA;IACX,mCAAQ,CAAA;IACR,uCAAU,CAAA;AACZ,CAAC,EAJW,MAAM,KAAN,MAAM,QAIjB;AA+BD,MAAM,CAAN,IAAY,QAMX;AAND,WAAY,QAAQ;IAClB,2CAAU,CAAA;IACV,6CAAW,CAAA;IACX,2CAAU,CAAA;IACV,+CAAY,CAAA;IACZ,mEAAsB,CAAA;AACxB,CAAC,EANW,QAAQ,KAAR,QAAQ,QAMnB;AAwCD,MAAM,CAAN,IAAY,gBAMX;AAND,WAAY,gBAAgB;IAC1B,6DAAW,CAAA;IACX,yDAAS,CAAA;IACT,mEAAc,CAAA;IACd,2DAAU,CAAA;IACV,6EAAmB,CAAA;AACrB,CAAC,EANW,gBAAgB,KAAhB,gBAAgB,QAM3B;AAiBD,MAAM,CAAN,IAAY,aAGX;AAHD,WAAY,aAAa;IACvB,+CAAO,CAAA;IACP,qDAAU,CAAA;AACZ,CAAC,EAHW,aAAa,KAAb,aAAa,QAGxB;AAwBD,MAAM,CAAN,IAAY,WAKX;AALD,WAAY,WAAW;IACrB,6CAAQ,CAAA;IACR,+CAAS,CAAA;IACT,+CAAS,CAAA;IACT,+CAAS,CAAA;AACX,CAAC,EALW,WAAW,KAAX,WAAW,QAKtB","sourcesContent":["// cspell:disable-file\n\nexport type EmptyObject = Record<string, unknown>\n\nexport type PageListQueryParameters<T> = T & {\n  offset?: number\n  limit?: number\n}\n\nexport const pageListQueryParams = [\"offset\", \"limit\"]\n\nexport type PageListExtra = {\n  offset: number\n  limit: number\n  total: number\n}\n\nexport type PageListResponse<T> = {\n  extra: PageListExtra\n  data: Array<T>\n}\n\nexport type Cursor = string | number\n\nexport type CursorDirection = \"after\" | \"before\"\n\nexport type CursorListQueryParameters<T> = T & {\n  cursor?: Cursor\n  direction?: CursorDirection\n  limit?: number\n}\n\nexport const cursorListQueryParams = [\"cursor\", \"direction\", \"limit\"]\n\nexport type CursorListExtra = {\n  cursor: Cursor\n  has_more: boolean\n  limit: number\n}\n\nexport type CursorListResponse<T> = {\n  extra: CursorListExtra\n  data: Array<T>\n}\n\nexport type WithMetadata<T> = T & {\n  metadata?: Record<string, unknown>\n}\n\nexport type WithTimestamps<T> = T & {\n  created_at: Date\n  updated_at?: Date\n}\n\nexport type Model<T> = WithTimestamps<WithMetadata<T>>\n\nexport enum Gender {\n  Unknown = 0,\n  Male = 1,\n  Female = 2,\n}\n\nexport type IMIdentity = {\n  id: string\n  user_id: string\n  open_id: string\n  provider: string\n}\n\nexport type IMUser = Model<{\n  id: string\n  user_id: string\n  custom_id?: string\n  username?: string\n  name?: string\n  mobile?: string\n  email?: string\n  avatar?: string\n  qrcode?: string\n  gender?: Gender\n  country?: string\n  province?: string\n  city?: string\n  district?: string\n  address?: string\n  signature?: string\n  birthday?: Date\n  language?: string\n  identities?: Array<IMIdentity>\n}>\n\nexport enum Precense {\n  Online = 1,\n  Offline = 2,\n  Logout = 3,\n  Disabled = 4,\n  DisabledByProvider = 5,\n}\n\nexport type IMAccount = Model<{\n  id: string\n  user: IMUser\n  precense: Precense\n}>\n\nexport type Contact = Model<{\n  id: string\n  account_id: string\n  user: IMUser\n  alias?: string\n  remark?: string\n  tags?: Array<string>\n  blocked?: boolean\n  marked?: boolean\n}>\n\nexport type Group = Model<{\n  id: string\n  groupid: string\n  owner?: IMUser\n  name?: string\n  avatar?: string\n  announcement?: string\n  description?: string\n  member_count: number\n}>\n\nexport type GroupMember = Model<{\n  id: string\n  member_id: string\n  group_id: string\n  user: IMUser\n  is_owner?: boolean\n  is_admin?: boolean\n  alias?: string\n}>\n\nexport enum ConversationType {\n  Private = 1,\n  Group = 2,\n  Discussion = 3,\n  System = 4,\n  CustomerService = 5,\n}\n\nexport type Conversation = Model<{\n  id: string\n  account_id: string\n  type: ConversationType\n  to: {\n    id: string\n    name?: string\n    avatar?: string\n  }\n  lastMessage?: Message\n  lastMessageAt?: Date\n  unread: number\n  pinned: boolean\n}>\n\nexport enum MentionedType {\n  All = 1,\n  Single = 2,\n}\n\nexport type Message = Model<{\n  id: string\n  message_id: string\n  conversation_type: ConversationType\n  seq: number\n  from: {\n    id: string\n    name?: string\n    avatar?: string\n  }\n  to: {\n    id: string\n    name?: string\n    avatar?: string\n  }\n  sent_at: Date\n  revoked?: boolean\n  mentioned_type?: MentionedType\n  mentioned_users?: Array<IMUser>\n  payload: MessagePayload\n}>\n\nexport enum MessageType {\n  Text = 1,\n  Image = 2,\n  Voice = 3,\n  Video = 4,\n}\n\nexport type MessagePayload =\n  | TextMessagePayload\n  | ImageMessagePayload\n  | VoiceMessagePayload\n  | VideoMessagePayload\n\nexport type TextMessagePayload = {\n  type: MessageType.Text\n  body: {\n    content: string\n  }\n}\n\nexport type ImageMessagePayload = {\n  type: MessageType.Image\n  body: {\n    url: string\n    width?: number\n    height?: number\n    size?: number\n    ext?: string\n    md5?: string\n    thumb?: {\n      url: string\n      width?: number\n      height?: number\n      ext?: string\n    }\n  }\n}\n\nexport type VoiceMessagePayload = {\n  type: MessageType.Voice\n  body: {\n    url: string\n    duration?: number\n    size?: number\n    ext?: string\n    md5?: string\n  }\n}\n\nexport type VideoMessagePayload = {\n  type: MessageType.Video\n  body: {\n    url: string\n    duration?: number\n    width?: number\n    height?: number\n    size?: number\n    ext?: string\n    md5?: string\n    thumb?: {\n      url: string\n      width?: number\n      height?: number\n      ext?: string\n    }\n  }\n}\n\nexport type Moment = Model<{\n  id: string\n  moment_id: string\n  user: IMUser\n  published_at: Date\n  is_private?: boolean\n  tags?: Array<string>\n  location?: {\n    latitude?: number\n    longitude?: number\n    altitude?: number\n    accuracy?: number\n    city?: string\n    place_name?: string\n    poi_name?: string\n    poi_address?: string\n  }\n  content: TextMomentContent | ImagesMomentContent | VideoMomentContent\n}>\n\nexport type TextMomentContent = {\n  type: 1\n  body: {\n    content: string\n  }\n}\n\nexport type ImagesMomentContent = {\n  type: 2\n  body: {\n    text?: string\n    images?: Array<{\n      url: string\n      width?: number\n      height?: number\n      size?: number\n      ext?: string\n      md5?: string\n      thumb?: {\n        url: string\n        width?: number\n        height?: number\n        ext?: string\n      }\n    }>\n  }\n}\n\nexport type VideoMomentContent = {\n  type: 3\n  body: {\n    text?: string\n    url: string\n    duration?: number\n    width?: number\n    height?: number\n    size?: number\n    ext?: string\n    md5?: string\n    thumb?: {\n      url: string\n      width?: number\n      height?: number\n      ext?: string\n    }\n  }\n}\n"]}