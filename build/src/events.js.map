{"version":3,"file":"events.js","sourceRoot":"","sources":["../../src/events.ts"],"names":[],"mappings":"AAAA,sBAAsB;AAItB,MAAM,CAAN,IAAY,SAaX;AAbD,WAAY,SAAS;IACnB,SAAS;IACT,oEAAuD,CAAA;IACvD,SAAS;IACT,sDAAyC,CAAA;IACzC,QAAQ;IACR,sDAAyC,CAAA;IACzC,SAAS;IACT,0DAA6C,CAAA;IAC7C,OAAO;IACP,kDAAqC,CAAA;IACrC,OAAO;IACP,gDAAmC,CAAA;AACrC,CAAC,EAbW,SAAS,KAAT,SAAS,QAapB","sourcesContent":["// cspell:disable-file\n\nimport { Conversation, IMAccount, Message } from \"./models\"\n\nexport enum EventType {\n  // 账号状态变更\n  IM_ACCOUNT_STATUS_UPDATED = \"im_account:status:updated\",\n  // 账号信息变更\n  IM_ACCOUNT_UPDATED = \"im_account:updated\",\n  // 新会话通知\n  NEW_CONVERSATION = \"conversation:created\",\n  // 会话信息变更\n  CONVERSATION_UPDATED = \"conversation:updated\",\n  // 收到消息\n  MESSAGE_RECEIVED = \"message:received\",\n  // 消息更新\n  MESSAGE_UPDATED = \"message:updated\",\n}\n\nexport type EventHandler = (evt: Event) => void\n\nexport type Event =\n  | UnknownEvent\n  | IMAccountStatusUpdatedEvent\n  | IMAccountUpdatedEvent\n  | NewConversationEvent\n  | ConversationUpdatedEvent\n  | MessageReceivedEvent\n  | MessageUpdatedEvent\n\nexport type UnknownEvent = {\n  type: string\n  data: unknown\n}\n\nexport type IMAccountStatusUpdatedEvent = {\n  type: typeof EventType.IM_ACCOUNT_STATUS_UPDATED\n  data: IMAccount\n}\n\nexport type IMAccountStatusUpdatedHandler = (\n  evt: IMAccountStatusUpdatedEvent\n) => void\n\nexport type IMAccountUpdatedEvent = {\n  type: typeof EventType.IM_ACCOUNT_UPDATED\n  data: IMAccount\n}\n\nexport type IMAccountUpdatedHandler = (evt: IMAccountUpdatedEvent) => void\n\nexport type NewConversationEvent = {\n  type: typeof EventType.NEW_CONVERSATION\n  data: Conversation\n}\n\nexport type NewConversationHandler = (evt: NewConversationEvent) => void\n\nexport type ConversationUpdatedEvent = {\n  type: typeof EventType.CONVERSATION_UPDATED\n  data: Conversation\n}\n\nexport type ConversationUpdatedHandler = (evt: ConversationUpdatedEvent) => void\n\nexport type MessageReceivedEvent = {\n  type: typeof EventType.MESSAGE_RECEIVED\n  data: Message\n}\n\nexport type MessageReceivedHandler = (evt: MessageReceivedEvent) => void\n\nexport type MessageUpdatedEvent = {\n  type: typeof EventType.MESSAGE_UPDATED\n  data: Message\n}\n\nexport type MessageUpdatedHandler = (evt: MessageUpdatedEvent) => void\n"]}